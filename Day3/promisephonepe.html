<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Processing UI with Promises</title>
    <style>
        /* Define styles for different UI states */
        .success, .failure, .processing {
            display: none;
        }

        .success {
            color: green;
        }

        .failure {
            color: red;
        }

        .processing {
            color: blue;
        }
    </style>
</head>
<body>

    <div id="paymentForm">
        <!-- Your payment form elements go here -->

        <button onclick="processPayment()">Process Payment</button>
    </div>

    <div id="successMessage" class="success">
        <!-- UI for successful payment -->
        Payment Successful! Thank you.
    </div>

    <div id="failureMessage" class="failure">
        <!-- UI for failed payment -->
        Payment Failed. Please try again.
    </div>

    <div id="processingMessage" class="processing">
        <!-- UI during the processing state -->
        Processing Payment...
    </div>

    <script>
        function simulatePayment() {
            // Simulate payment processing with a promise
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    // Simulate payment success (true) or failure (false)
                    const paymentSuccess = Math.random() < 0.5;

                    if (paymentSuccess) {
                        resolve();
                    } else {
                        reject();
                    }
                }, 2000); // Simulating a delay of 2 seconds
            });
        }

        function processPayment() {
            showProcessingUI();

            // Use the promise to handle success and failure
            simulatePayment()
                .then(() => {
                    showSuccessUI();
                })
                .catch(() => {
                    showFailureUI();
                });
        }

        function showProcessingUI() {
            document.getElementById('paymentForm').style.display = 'none';
            document.getElementById('processingMessage').style.display = 'block';
        }

        function showSuccessUI() {
            document.getElementById('processingMessage').style.display = 'none';
            document.getElementById('successMessage').style.display = 'block';
        }

        function showFailureUI() {
            document.getElementById('processingMessage').style.display = 'none';
            document.getElementById('failureMessage').style.display = 'block';
        }
    </script>

</body>
</html>
